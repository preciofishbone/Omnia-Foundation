<span class="{{item.isExpanded ? expandedIconClass : collapsedIconClass}}" (click)="item.isExpanded = !item.isExpanded"></span>
<span class="omf-treepicker-node-title">
    <i class="fa omf-node-icon" [ngClass]="itemIconClass" *ngIf="itemIconClass"></i>
    <span title="{{item.hoverText}}" (click)="selectNode(item)" (dblclick)="dblClickNode(item)" [omfInnerHtml]="item.title"></span>
    <div class="omf-treepicker-contextmenu-holder" *ngIf="showContextMenu">
        <ul>
            <li *ngFor="let action of contextMenuActions" [omfShow]="!isContextMenuItemDisable(action, item, nodeIndex)">
                <i class="fa {{action.iconClass}}" title="{{action.title}}" (click)="selectContextMenuItem(action, item, nodeIndex)"></i>
            </li>
        </ul>
    </div>
</span>
<ul *ngIf="item.children.length > 0 && item.isExpanded">
    <li class="omf-treepicker-node" *ngFor="let node of item.children; let i = index" [ngClass]="{'selected' : node.isSelected, 'omf-treepicker-node-leaf': node.children.length === 0}">
        <omf-tree-picker-template [item]="node"
                                  [nodeIndex]="i"
                                  [selectNode]="selectNode"
                                  [showContextMenu]="showContextMenu"
                                  [isContextMenuItemDisable]="isContextMenuItemDisable"
                                  [selectContextMenuItem]="selectContextMenuItem"
                                  [contextMenuActions]="contextMenuActions"
                                  [expandedIconClass]="expandedIconClass"
                                  [collapsedIconClass]="collapsedIconClass"
                                  [itemIconClass]="itemIconClass"
                                  [dblClickNode]="dblClickNode">
        </omf-tree-picker-template>
    </li>
</ul>